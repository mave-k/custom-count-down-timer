class CountDownTimer{constructor(t,e=!0){this.containerID=t,this.timeInterval=0,this.time=0,this.jsInterval=null,this.withProgressBar=e}render(){const t=document.getElementById(this.containerID);if(!t)return console.error(`Element with ID ${this.containerID} not found`),!1;const e=document.createElement("div");e.classList.add("CountDownTimer-container");const n=document.createElement("input");n.id="CountDownTimer-input-time",n.type="time",n.step=1,e.appendChild(n);const i=document.createElement("button");i.id="CountDownTimer-btn-start",i.innerText="Start",i.addEventListener("click",()=>{this.handleStart()});const s=document.createElement("button");s.id="CountDownTimer-btn-pause",s.innerText="Pause",s.addEventListener("click",()=>{this.handlePause()});const a=document.createElement("button");a.id="CountDownTimer-btn-reset",a.innerText="Reset",a.addEventListener("click",()=>{this.handleReset()});const r=document.createElement("div");if(r.classList.add("CountDownTimer-button-row"),r.appendChild(i),r.appendChild(s),r.appendChild(a),e.appendChild(r),this.withProgressBar){const t=document.createElement("div");t.classList.add("CountDownTimer-progress-container");const n=document.createElement("div");n.classList.add("CountDownTimer-progress-bar"),t.appendChild(n),e.appendChild(t)}t.appendChild(e)}handleStart(t=!1){const e=document.getElementById("CountDownTimer-input-time"),n=e.value,i=this.timeToSeconds(n);t||(this.timeInterval=i),this.time=i,this.jsInterval&&(clearInterval(this.jsInterval),this.jsInterval=null),this.jsInterval=setInterval(()=>{this.time>0?(this.time--,this.updateDisplay()):this.handlePause()},1e3)}handlePause(t=!1){this.jsInterval?(clearInterval(this.jsInterval),this.jsInterval=null):t||this.handleStart(!0)}handleReset(){this.handlePause(!0),this.time=this.timeInterval;const t=document.getElementById("CountDownTimer-input-time");t.value=this.secondsToTime(this.timeInterval),this.updateDisplay()}trigger(t){switch(t.toLowerCase()){case"start":this.handleStart();break;case"pause":this.handlePause();break;case"reset":this.handleReset();break;default:throw new Error("Unknown event name")}}updateDisplay(){const t=document.getElementById("CountDownTimer-input-time");t.value=this.secondsToTime(this.time),this.withProgressBar&&this.updateProgressBar(this.time/this.timeInterval*100)}updateProgressBar(t){const e=document.querySelector(".CountDownTimer-progress-bar"),n=Math.max(0,Math.min(t,100));e.style.background=n<30?"linear-gradient(90deg, #ff0000, #ffadad)":"linear-gradient(90deg, #4caf50, #81c784)",e.style.width=`${n}%`}timeToSeconds(t){const[e,n,i]=t.split(":").map(Number);return 3600*e+60*n+(i||0)}secondsToTime(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),i=t%60,s=String(e).padStart(2,"0"),a=String(n).padStart(2,"0"),r=String(i).padStart(2,"0");return`${s}:${a}:${r}`}}